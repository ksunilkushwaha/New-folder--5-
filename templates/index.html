<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Tracker - Income & Expenses</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>
<body>
    <div class="container">
        <h1>ðŸ’° Daily Tracker</h1>
        <p class="subtitle">Track your daily income and expenses</p>
        
        <form method="POST" action="/calculate">
            <!-- Earnings Section -->
            <div class="section earnings-section">
                <div class="section-title">ðŸ’¹ Your Earnings</div>
                <div id="earnings-container">
                    <!-- Dynamic earnings will be added here -->
                </div>
                <button type="button" class="add-btn" onclick="addEarning()">+ Add Earning</button>
            </div>
            
            <!-- Expenses Section -->
            <div class="section expenses-section">
                <div class="section-title">ðŸ’¸ Your Expenses</div>
                <div id="expenses-container">
                    <!-- Dynamic expenses will be added here -->
                </div>
                <button type="button" class="add-btn" onclick="addExpense()">+ Add Expense</button>
            </div>
            
            <!-- Submit Button -->
            <button type="submit">ðŸ“Š Calculate Summary</button>
        </form>
        
        <div class="reset-link">
            <a href="/" onclick="document.querySelector('form').reset(); return false;">â†» Reset Form</a>
        </div>
        
        <div class="nav-links">
            <a href="/history">ðŸ“‹ View History</a>
        </div>
    </div>

    <script>
        let earningCount = 0;
        let expenseCount = 0;

        function addEarning() {
            const container = document.getElementById('earnings-container');
            const id = `earning-${earningCount}`;
            earningCount++;
            
            const itemRow = document.createElement('div');
            itemRow.className = 'item-row';
            itemRow.innerHTML = `
                <input type="text" name="earning_name_${id}" placeholder="e.g., Work, Freelance, Bonus" required>
                <input type="number" name="earning_amount_${id}" placeholder="Amount (â‚¹)" min="0" required>
                <button type="button" class="remove-btn" onclick="this.parentElement.remove()">âœ•</button>
            `;
            container.appendChild(itemRow);
        }

        function addExpense() {
            const container = document.getElementById('expenses-container');
            const id = `expense-${expenseCount}`;
            expenseCount++;
            
            const itemRow = document.createElement('div');
            itemRow.className = 'item-row';
            itemRow.innerHTML = `
                <input type="text" name="expense_name_${id}" placeholder="e.g., Food, Rent, Transport" required>
                <input type="number" name="expense_amount_${id}" placeholder="Amount (â‚¹)" min="0" required>
                <button type="button" class="remove-btn" onclick="this.parentElement.remove()">âœ•</button>
            `;
            container.appendChild(itemRow);
        }

        // Add one earning and one expense by default
        window.addEventListener('load', function() {
            addEarning();
            addExpense();
        });
    </script>
</body>
</html>
